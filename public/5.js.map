{"version":3,"sources":["webpack:///./Modules/Catering/Resources/assets/js/views/stats/PreparationContent.vue?497f","webpack:///Modules/Catering/Resources/assets/js/views/stats/PreparationContent.vue","webpack:///./Modules/Catering/Resources/assets/js/views/stats/PreparationContent.vue?3d76","webpack:///./Modules/Catering/Resources/assets/js/views/stats/PreparationContent.vue"],"names":["window","open","routeData","href","component","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","icon","title","warehouses","filter","errors","has","get","model","value","callback","$$v","$set","expression","preparationTypes","preparations","on","$event","generateReport"],"mappings":"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","file":"5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n        \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.warehouses,\"label\":\"Almacen*\",\"item-value\":\"id\",\"item-text\":\"name\",\"hide-details\":\"auto\",\"return-object\":\"\",\"clearable\":\"\",\"error\":_vm.filter.errors.has('warehouse_id'),\"error-messages\":_vm.filter.errors.get('warehouse_id')},model:{value:(_vm.filter.warehouse),callback:function ($$v) {_vm.$set(_vm.filter, \"warehouse\", $$v)},expression:\"filter.warehouse\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.preparationTypes,\"label\":\"Tipo Preparation*\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"hide-details\":\"auto\",\"return-object\":\"\",\"clearable\":\"\",\"error\":_vm.filter.errors.has('preparation_type_id'),\"error-messages\":_vm.filter.errors.get('preparation_type_id')},model:{value:(_vm.filter.preparationType),callback:function ($$v) {_vm.$set(_vm.filter, \"preparationType\", $$v)},expression:\"filter.preparationType\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.preparations,\"label\":\"Preparacion*\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"hide-details\":\"auto\",\"return-object\":\"\",\"clearable\":\"\",\"error\":_vm.filter.errors.has('preparation_id'),\"error-messages\":_vm.filter.errors.get('preparation_id')},model:{value:(_vm.filter.preparation),callback:function ($$v) {_vm.$set(_vm.filter, \"preparation\", $$v)},expression:\"filter.preparation\"}})],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.generateReport()}}},[_vm._v(\"\\n            Generar\\n        \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card>\r\n        <v-card-title>\r\n            <v-icon left>{{icon}}</v-icon>\r\n            {{ title }}\r\n            <v-spacer></v-spacer>\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n            <v-row>\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.warehouse\"\r\n                        :items=\"warehouses\"\r\n                        label=\"Almacen*\"\r\n                        item-value=\"id\"\r\n                        item-text=\"name\"\r\n                        hide-details=\"auto\"\r\n                        return-object\r\n                        clearable\r\n                        :error=\"filter.errors.has('warehouse_id')\"\r\n                        :error-messages=\"filter.errors.get('warehouse_id')\"\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.preparationType\"\r\n                        :items=\"preparationTypes\"\r\n                        label=\"Tipo Preparation*\"\r\n                        item-value=\"id\"\r\n                        item-text=\"descrip\"\r\n                        hide-details=\"auto\"\r\n                        return-object\r\n                        clearable\r\n                        :error=\"filter.errors.has('preparation_type_id')\"\r\n                        :error-messages=\"filter.errors.get('preparation_type_id')\"\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.preparation\"\r\n                        :items=\"preparations\"\r\n                        label=\"Preparacion*\"\r\n                        item-value=\"id\"\r\n                        item-text=\"descrip\"\r\n                        hide-details=\"auto\"\r\n                        return-object\r\n                        clearable\r\n                        :error=\"filter.errors.has('preparation_id')\"\r\n                        :error-messages=\"filter.errors.get('preparation_id')\"\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n            </v-row>\r\n        </v-card-text>\r\n\r\n        <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text color=\"success\" @click=\"generateReport()\">\r\n                Generar\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            icon: 'mdi-tag',\r\n            title: 'Prepararacion - Contenido Nutricional',\r\n            resource: 'catering/report/preparation-content',\r\n\r\n            filter: new Form({ warehouse: null, preparationType: null, preparation: null }),\r\n\r\n            meta: { warehouses: [], preparation_types: [], preparations: [] },\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.getMeta()\r\n    },\r\n\r\n    watch: {\r\n        'filter.preparationType': function() {\r\n            this.preparation = null\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        warehouses() {\r\n            return this.meta.warehouses\r\n        },\r\n        preparationTypes() {\r\n            return this.meta.preparation_types\r\n        },\r\n        preparations() {\r\n            if( this.filter.preparationType ){\r\n                return this.meta.preparations.filter(p => p.preparation_type_id === this.filter.preparationType.id )\r\n                .sort((a, b) => a.descrip.localeCompare(b.descrip) );\r\n            }\r\n            return []\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        async getMeta() {\r\n            try {\r\n                const params = { service: `get-meta-stats-preparation-content` }\r\n                const {data} = await this.filter.get(`/common`, {params})\r\n                this.meta = data\r\n            } catch (error) {\r\n                this.$toast(params.service, 'danger')\r\n            }\r\n        },\r\n\r\n        async generateReport() {\r\n            try {\r\n                const params = { \r\n                    warehouse_id: this.filter.warehouse? this.filter.warehouse.id: null,\r\n                    preparation_type_id: this.filter.preparationType? this.filter.preparationType.id: null,\r\n                    preparation_id : this.filter.preparation? this.filter.preparation.id: null,\r\n                    reportname: 'nc_preparation',\r\n                }\r\n\r\n                const {data} = await this.filter.get(`/${this.resource}`, {params})\r\n                let routeData = this.$router.resolve({path: `/api/catering/report/generate/${data.reportname}`, query: data.params });\r\n                window.open(routeData.href, '_blank');\r\n            } catch (error) {\r\n                this.$toast(params.service, 'danger')\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreparationContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreparationContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreparationContent.vue?vue&type=template&id=423b82c8&\"\nimport script from \"./PreparationContent.vue?vue&type=script&lang=js&\"\nexport * from \"./PreparationContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}