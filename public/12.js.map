{"version":3,"sources":["webpack:///./Modules/Setting/Resources/assets/js/views/supply/SupplyCrud.vue?574d","webpack:///Modules/Setting/Resources/assets/js/views/supply/SupplyCrud.vue","webpack:///./Modules/Setting/Resources/assets/js/views/supply/SupplyCrud.vue?8388","webpack:///./Modules/Setting/Resources/assets/js/views/supply/SupplyCrud.vue"],"names":["action","component","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","dialog","expression","staticClass","_v","_s","icon","titleForm","meta","supply_types","form","errors","has","get","$set","unit_types","nutrientHeaders","nutrients","scopedSlots","_u","key","fn","ref","item","saving","on","closeForm","id","_e","$event","submit","title","openForm","getItems","filter","headers","dataItems","data","loading","last_page"],"mappings":"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","file":"12.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n                    \"+_vm._s(_vm.titleForm)+\"\\n                \")],1)]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pt-5\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.supply_types,\"label\":\"Tipo de Insumo*\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('supply_type_id'),\"error-messages\":_vm.form.errors.get('supply_type_id')},model:{value:(_vm.form.supply_type_id),callback:function ($$v) {_vm.$set(_vm.form, \"supply_type_id\", $$v)},expression:\"form.supply_type_id\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Nombre*\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('name'),\"error-messages\":_vm.form.errors.get('name')},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.unit_types,\"label\":\"Unidad*\",\"item-value\":\"value\",\"item-text\":\"text\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('unit_type'),\"error-messages\":_vm.form.errors.get('unit_type')},model:{value:(_vm.form.unit_type),callback:function ($$v) {_vm.$set(_vm.form, \"unit_type\", $$v)},expression:\"form.unit_type\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Peso*\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('net_weight'),\"error-messages\":_vm.form.errors.get('net_weight')},model:{value:(_vm.form.net_weight),callback:function ($$v) {_vm.$set(_vm.form, \"net_weight\", $$v)},expression:\"form.net_weight\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Gramos*\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('grams'),\"error-messages\":_vm.form.errors.get('grams')},model:{value:(_vm.form.grams),callback:function ($$v) {_vm.$set(_vm.form, \"grams\", $$v)},expression:\"form.grams\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"dense\":\"\",\"headers\":_vm.nutrientHeaders,\"items\":_vm.form.nutrients,\"item-key\":\"id\",\"disable-sort\":\"\",\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.value\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"number\",\"min\":\"0\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has((\"nutrients.\" + (item.column) + \".value\")),\"error-messages\":_vm.form.errors.get((\"nutrients.\" + (item.column) + \".value\"))},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})]}}],null,true)})],1)],1),_vm._v(\" \"),_c('small',[_vm._v(\"*Campos requeridos\")])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.saving},on:{\"click\":_vm.closeForm}},[_vm._v(\"close\")]),_vm._v(\" \"),(!_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('create')}}},[_vm._v(\"Crear\")]):_vm._e(),_vm._v(\" \"),(_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('delete')}}},[_vm._v(\"Eliminar\")]):_vm._e(),_vm._v(\" \"),(_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"success\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('edit')}}},[_vm._v(\"Editar\")]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n            \"+_vm._s(_vm.title)+\"\\n            \"),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"x-small\":\"\",\"fab\":\"\",\"elevation\":\"1\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openForm()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"search\",\"append-icon\":\"mdi-magnify\",\"label\":\"Buscar\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"search\":_vm.getItems},model:{value:(_vm.filter.search),callback:function ($$v) {_vm.$set(_vm.filter, \"search\", $$v)},expression:\"filter.search\"}})],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.dataItems.data,\"loading\":_vm.loading,\"disable-sort\":\"\",\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.openForm(item)}}},[_vm._v(\"\\n                    mdi-pencil\\n                \")])]}}],null,true)}),_vm._v(\" \"),_c('v-card-actions',[_c('v-row',[_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\"}},[_c('v-pagination',{attrs:{\"length\":_vm.dataItems.meta.last_page,\"total-visible\":7},on:{\"input\":_vm.getItems},model:{value:(_vm.dataItems.meta.current_page),callback:function ($$v) {_vm.$set(_vm.dataItems.meta, \"current_page\", $$v)},expression:\"dataItems.meta.current_page\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- Form -->\r\n        <v-dialog\r\n            v-model=\"dialog\"\r\n            scrollable\r\n            persistent\r\n            max-width=\"500px\"\r\n        >\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">\r\n                        <v-icon left>{{icon}}</v-icon>\r\n                        {{ titleForm }}\r\n                    </span>\r\n                </v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text class=\"pt-5\">\r\n                    <v-row>\r\n                        <!-- supply_type_id -->\r\n                        <v-col cols=\"12\" sm=\"12\">\r\n                            <v-select dense outlined\r\n                                v-model=\"form.supply_type_id\"\r\n                                :items=\"meta.supply_types\"\r\n                                label=\"Tipo de Insumo*\"\r\n                                item-value=\"id\"\r\n                                item-text=\"descrip\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('supply_type_id')\"\r\n                                :error-messages=\"form.errors.get('supply_type_id')\"\r\n                            ></v-select>\r\n                        </v-col>\r\n\r\n                        <!-- name -->\r\n                        <v-col cols=\"12\" sm=\"12\">\r\n                            <v-text-field outlined dense\r\n                                v-model=\"form.name\"\r\n                                label=\"Nombre*\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('name')\"\r\n                                :error-messages=\"form.errors.get('name')\"\r\n                            ></v-text-field>\r\n                        </v-col>\r\n\r\n                        <!-- unit_type -->\r\n                        <v-col cols=\"12\" sm=\"12\">\r\n                            <v-select dense outlined\r\n                                v-model=\"form.unit_type\"\r\n                                :items=\"meta.unit_types\"\r\n                                label=\"Unidad*\"\r\n                                item-value=\"value\"\r\n                                item-text=\"text\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('unit_type')\"\r\n                                :error-messages=\"form.errors.get('unit_type')\"\r\n                            ></v-select>\r\n                        </v-col>\r\n\r\n                        <!-- net_weight -->\r\n                        <v-col cols=\"12\" sm=\"6\">\r\n                            <v-text-field outlined dense\r\n                                v-model=\"form.net_weight\"\r\n                                label=\"Peso*\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('net_weight')\"\r\n                                :error-messages=\"form.errors.get('net_weight')\"\r\n                            ></v-text-field>\r\n                        </v-col>\r\n\r\n                        <!-- grams -->\r\n                        <v-col cols=\"12\" sm=\"6\">\r\n                            <v-text-field outlined dense\r\n                                v-model=\"form.grams\"\r\n                                label=\"Gramos*\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('grams')\"\r\n                                :error-messages=\"form.errors.get('grams')\"\r\n                            ></v-text-field>\r\n                        </v-col>\r\n\r\n                        <!-- nutrients -->\r\n                        <v-col cols=\"12\" sm=\"12\">\r\n                           <v-data-table dense\r\n                                :headers=\"nutrientHeaders\"\r\n                                :items=\"form.nutrients\"\r\n                                item-key=\"id\"\r\n                                class=\"elevation-1\"\r\n                                disable-sort\r\n                                disable-pagination\r\n                                hide-default-footer\r\n                            >\r\n                                <template v-slot:[`item.value`]=\"{ item }\">\r\n                                    <v-text-field dense type=\"number\" min=\"0\"\r\n                                        v-model=\"item.value\"\r\n                                        hide-details=\"auto\"\r\n                                        :error=\"form.errors.has(`nutrients.${item.column}.value`)\"\r\n                                        :error-messages=\"form.errors.get(`nutrients.${item.column}.value`)\"\r\n                                    ></v-text-field>\r\n                                </template>\r\n                            </v-data-table>\r\n                        </v-col>\r\n                        \r\n                    </v-row>\r\n                    <small>*Campos requeridos</small>\r\n                </v-card-text>\r\n                <v-divider></v-divider>\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn text @click=\"closeForm\" :disabled=\"saving\">close</v-btn>\r\n                    <v-btn text color=\"primary\" @click=\"submit('create')\" v-if=\"!form.id\" :disabled=\"saving\">Crear</v-btn>\r\n                    <v-btn text color=\"error\" @click=\"submit('delete')\" v-if=\"form.id\" :disabled=\"saving\">Eliminar</v-btn>\r\n                    <v-btn text color=\"success\" @click=\"submit('edit')\" v-if=\"form.id\" :disabled=\"saving\">Editar</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n\r\n        <!-- table -->\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-icon left>{{icon}}</v-icon>\r\n                {{ title }}\r\n                <v-btn x-small fab elevation=\"1\"\r\n                    class=\"ml-3\"\r\n                    color=\"primary\" \r\n                    \r\n                    @click=\"openForm()\"\r\n                ><v-icon>mdi-plus</v-icon></v-btn>\r\n\r\n                <v-spacer></v-spacer>\r\n                <v-text-field dense\r\n                    type=\"search\"\r\n                    v-model=\"filter.search\"\r\n                    append-icon=\"mdi-magnify\"\r\n                    label=\"Buscar\"\r\n                    single-line\r\n                    hide-details\r\n                    @search=\"getItems\"\r\n                ></v-text-field>\r\n\r\n            </v-card-title>\r\n\r\n            <v-data-table dense\r\n                :headers=\"headers\"\r\n                :items=\"dataItems.data\"\r\n                :loading=\"loading\"\r\n                disable-sort\r\n                disable-pagination\r\n                hide-default-footer\r\n            >\r\n                <template v-slot:[`item.action`]=\"{ item }\">\r\n                    <v-icon\r\n                        small\r\n                        class=\"mr-2\"\r\n                        @click=\"openForm(item)\"\r\n                    >\r\n                        mdi-pencil\r\n                    </v-icon>\r\n                </template>\r\n            </v-data-table>\r\n\r\n            <v-card-actions>\r\n                <v-row>\r\n                    <v-col cols=\"12\" class=\"text-center\">\r\n                        <v-pagination\r\n                            v-model=\"dataItems.meta.current_page\"\r\n                            :length=\"dataItems.meta.last_page\"\r\n                            :total-visible=\"7\"\r\n                            @input=\"getItems\"\r\n                        ></v-pagination>\r\n                    </v-col>\r\n                </v-row>\r\n            </v-card-actions>\r\n        </v-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            icon: 'mdi-tag',\r\n            resource: 'setting/supplies',\r\n            title: 'Insumos',\r\n            titleForm: 'Insumo',\r\n            dialog: false,\r\n            loading: false,\r\n            saving: false,\r\n\r\n            filter: {\r\n                search: null,\r\n            },\r\n\r\n            form: new Form({\r\n                id: null,\r\n                name: null,\r\n                unit_type: null,\r\n                supply_type_id: null,\r\n                \r\n                net_weight: 0,\r\n                grams: 0,\r\n                nutrients: [],\r\n            }),\r\n\r\n            headers: [\r\n                { text: 'ID', value: 'id' },\r\n                { text: 'Nomnbre', value: 'name' },\r\n                { text: 'Unidad', value: 'unit_type_text' },\r\n                { text: 'Tipo', value: 'supply_type_descrip' },\r\n                { text: 'Accion', value: 'action', sortable: false },\r\n            ],\r\n\r\n            nutrientHeaders: [\r\n                { text: 'Nutriente', value: 'label' },\r\n                { text: 'Valor', value: 'value', width:100 },\r\n            ],\r\n\r\n            dataItems: { meta: {}, data: [] },\r\n\r\n            meta: { supply_types: [], unit_types: [], nutrient_columns: [] },\r\n        }\r\n    },\r\n\r\n    computed: {\r\n\r\n    },\r\n\r\n    mounted() {\r\n        this.getMeta();\r\n        this.getItems();\r\n    },\r\n\r\n    methods: {\r\n        async openForm(item = null) {\r\n            this.form.clear()\r\n            this.form.reset()\r\n            if (item !== null) {\r\n                try {\r\n                    const { data }  = await this.form.get(`/${this.resource}/${item.id}`)\r\n                    this.form.fill(data)\r\n                } catch (error) {\r\n                    this.$toast(error.message, 'danger')\r\n                    return\r\n                }\r\n            }else {\r\n                this.form.nutrients = this.meta.nutrient_columns.map(nc => {\r\n                    let value = 0\r\n                    return {\r\n                        'label': nc.label,\r\n                        'column': nc.column,\r\n                        'value': value,\r\n                    }\r\n                })\r\n            }\r\n\r\n            this.dialog = true\r\n        },\r\n\r\n        closeForm() {\r\n            this.dialog = false\r\n        },\r\n\r\n        async getMeta() {\r\n            try {\r\n                const params = { service: `get-meta-crud-supplies` }\r\n                const {data} = await this.form.get(`/common`, {params})\r\n                this.meta = data\r\n            } catch (error) {\r\n                this.$toast(error.message, 'danger')\r\n            }\r\n        },\r\n\r\n        async getItems( page=1 ) {\r\n            try {\r\n                const params = {\r\n                    page: page,\r\n                    search: this.filter.search\r\n                }\r\n\r\n                this.loading = true\r\n                const { data }  = await this.form.get(`/${this.resource}`, {params})\r\n                this.dataItems = data\r\n            } catch (error) {\r\n                this.$toast(error.message, 'danger')\r\n            } finally {\r\n                this.loading = false\r\n            }\r\n        },\r\n\r\n        async submit(action = 'create') {\r\n            try {\r\n                this.form.clear()\r\n                this.saving = true\r\n                const itemIndex = this.dataItems.data.findIndex(x => x.id===this.form.id)\r\n\r\n                if( action==='delete' && !confirm(\"¿Realmente desea eliminar el registro?\") ){\r\n                    this.dialog = false\r\n                    return\r\n                }\r\n\r\n                const { data } = await this.form.req(`/${this.resource}`, action)\r\n\r\n                if (action === 'create') {\r\n                    this.filter.search=null\r\n                    this.getItems()\r\n                }\r\n                if (action === 'edit') {\r\n                    this.dataItems.data.splice(itemIndex, 1, data)\r\n                    this.$toast('registro actualizado!', 'success')\r\n                }\r\n                if (action === 'delete') {\r\n                    this.filter.search=null\r\n                    this.getItems()\r\n                }\r\n                this.dialog = false\r\n            } catch (error) {\r\n                // if (error.response && error.response.status !== 422) {\r\n                    this.$toast(error.message, 'danger')\r\n                // }\r\n            } finally {\r\n                this.saving = false\r\n            }\r\n        },\r\n    },\r\n\r\n}\r\n</script>","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyCrud.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyCrud.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupplyCrud.vue?vue&type=template&id=9fd69644&\"\nimport script from \"./SupplyCrud.vue?vue&type=script&lang=js&\"\nexport * from \"./SupplyCrud.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}