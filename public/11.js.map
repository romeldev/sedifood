{"version":3,"sources":["webpack:///./Modules/Setting/Resources/assets/js/views/supply-type/SupplyTypeCrud.vue?a7c4","webpack:///Modules/Setting/Resources/assets/js/views/supply-type/SupplyTypeCrud.vue","webpack:///./Modules/Setting/Resources/assets/js/views/supply-type/SupplyTypeCrud.vue?02d4","webpack:///./Modules/Setting/Resources/assets/js/views/supply-type/SupplyTypeCrud.vue"],"names":["action","component","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","dialog","expression","staticClass","_v","_s","icon","titleForm","form","errors","has","get","$set","saving","on","closeForm","id","_e","$event","submit","title","openForm","filter","headers","items","loading","search","scopedSlots","_u","key","fn","ref","item","roles","map","r","name","toString"],"mappings":"kGAAA,I,4UCqGA,ICrGsO,EDqGtO,CACE,KADF,WAEI,MAAJ,CACM,KAAN,UACM,SAAN,uBACM,MAAN,mBACM,UAAN,iBACM,QAAN,EACM,SAAN,EACM,QAAN,EAEM,OAAN,CACQ,OAAR,MAGM,KAAN,UACQ,GAAR,KACQ,QAAR,KACQ,MAAR,OAGM,QAAN,CACA,CAAQ,KAAR,KAAQ,MAAR,MACA,CAAQ,KAAR,cAAQ,MAAR,WACA,CAAQ,KAAR,QAAQ,MAAR,SACA,CAAQ,KAAR,SAAQ,MAAR,SAAQ,UAAR,IAGM,MAAN,GAEM,KAAN,CAAQ,SAAR,GAAQ,OAAR,MAIE,SAAF,GAIE,QAtCF,WAuCI,KAAJ,UACI,KAAJ,YAGE,QAAF,CACI,SADJ,WACM,IAAN,8DACM,KAAN,aACM,KAAN,aACA,UACQ,KAAR,yCAEM,KAAN,WAGI,UAVJ,WAWM,KAAN,WAGI,QAdJ,WAcM,IAAN,OAAM,OAAN,yBAAQ,IAAR,MAAQ,OAAR,0EAEgB,EAAhB,gCAFA,SAGA,iCAHA,gBAGgB,EAHhB,EAGA,KACgB,EAAhB,OAJA,gDAMgB,EAAhB,gCANA,4DAUI,SAxBJ,WAwBM,IAAN,OAAM,OAAN,yBAAQ,IAAR,IAAQ,OAAR,0EAEgB,EAAhB,WAFA,SAGA,mCAHA,gBAGgB,EAHhB,EAGA,KACgB,EAAhB,QAJA,gDAMgB,EAAhB,8BANA,yBAQgB,EAAhB,WARA,+EAYI,OApCJ,WAoCM,IAAN,mBAAM,OAAN,yBAAQ,IAAR,QAAQ,OAAR,gHAEgB,EAAhB,aACgB,EAAhB,UACgB,EAAhB,0DAEA,gEANA,uBAOgB,EAAhB,UAPA,2CAWA,qCAXA,iBAWgB,EAXhB,EAWA,KAE+B,WAAXA,IACF,EAAlB,iBACkB,EAAlB,sCAE+B,SAAXA,IACF,EAAlB,oBACkB,EAAlB,2CAE+B,WAAXA,IACF,EAAlB,kBACkB,EAAlB,yCAEgB,EAAhB,UAzBA,kDA4BgB,EAAhB,8BA5BA,yBA+BgB,EAAhB,UA/BA,kF,OE7KIC,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,WAAa,GAAG,WAAa,GAAG,YAAY,SAASC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIW,OAAOD,GAAKE,WAAW,WAAW,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,OAAO,CAACS,YAAY,YAAY,CAACT,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,SAAShB,EAAIc,GAAG,yBAAyBd,EAAIe,GAAGf,EAAIiB,WAAW,uBAAuB,KAAKjB,EAAIc,GAAG,KAAKV,EAAG,aAAaJ,EAAIc,GAAG,KAAKV,EAAG,cAAc,CAACS,YAAY,QAAQ,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,OAAO,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,GAAG,MAAQ,eAAe,eAAe,OAAO,MAAQN,EAAIkB,KAAKC,OAAOC,IAAI,WAAW,iBAAiBpB,EAAIkB,KAAKC,OAAOE,IAAI,YAAYd,MAAM,CAACC,MAAOR,EAAIkB,KAAY,QAAET,SAAS,SAAUC,GAAMV,EAAIsB,KAAKtB,EAAIkB,KAAM,UAAWR,IAAME,WAAW,mBAAmB,GAAGZ,EAAIc,GAAG,KAAKV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,OAAO,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,GAAG,MAAQ,SAAS,eAAe,OAAO,MAAQN,EAAIkB,KAAKC,OAAOC,IAAI,SAAS,iBAAiBpB,EAAIkB,KAAKC,OAAOE,IAAI,UAAUd,MAAM,CAACC,MAAOR,EAAIkB,KAAU,MAAET,SAAS,SAAUC,GAAMV,EAAIsB,KAAKtB,EAAIkB,KAAM,QAASR,IAAME,WAAW,iBAAiB,IAAI,GAAGZ,EAAIc,GAAG,KAAKV,EAAG,QAAQ,CAACJ,EAAIc,GAAG,yBAAyB,GAAGd,EAAIc,GAAG,KAAKV,EAAG,aAAaJ,EAAIc,GAAG,KAAKV,EAAG,iBAAiB,CAACA,EAAG,YAAYJ,EAAIc,GAAG,KAAKV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,SAAWN,EAAIuB,QAAQC,GAAG,CAAC,MAAQxB,EAAIyB,YAAY,CAACzB,EAAIc,GAAG,WAAWd,EAAIc,GAAG,KAAOd,EAAIkB,KAAKQ,GAAyJ1B,EAAI2B,KAAzJvB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,UAAU,SAAWN,EAAIuB,QAAQC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO5B,EAAI6B,OAAO,aAAa,CAAC7B,EAAIc,GAAG,WAAoBd,EAAIc,GAAG,KAAMd,EAAIkB,KAAO,GAAEd,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,QAAQ,SAAWN,EAAIuB,QAAQC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO5B,EAAI6B,OAAO,aAAa,CAAC7B,EAAIc,GAAG,cAAcd,EAAI2B,KAAK3B,EAAIc,GAAG,KAAMd,EAAIkB,KAAO,GAAEd,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,UAAU,SAAWN,EAAIuB,QAAQC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO5B,EAAI6B,OAAO,WAAW,CAAC7B,EAAIc,GAAG,YAAYd,EAAI2B,MAAM,IAAI,IAAI,GAAG3B,EAAIc,GAAG,KAAKV,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,SAAShB,EAAIc,GAAG,iBAAiBd,EAAIe,GAAGf,EAAI8B,OAAO,kBAAkB1B,EAAG,QAAQ,CAACS,YAAY,OAAOP,MAAM,CAAC,UAAU,GAAG,IAAM,GAAG,UAAY,IAAI,MAAQ,WAAWkB,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO5B,EAAI+B,cAAc,CAAC3B,EAAG,SAAS,CAACJ,EAAIc,GAAG,eAAe,GAAGd,EAAIc,GAAG,KAAKV,EAAG,YAAYJ,EAAIc,GAAG,KAAKV,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,SAAS,cAAc,cAAc,MAAQ,SAAS,cAAc,GAAG,eAAe,IAAIC,MAAM,CAACC,MAAOR,EAAIgC,OAAa,OAAEvB,SAAS,SAAUC,GAAMV,EAAIsB,KAAKtB,EAAIgC,OAAQ,SAAUtB,IAAME,WAAW,oBAAoB,GAAGZ,EAAIc,GAAG,KAAKV,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAIiC,QAAQ,MAAQjC,EAAIkC,MAAM,QAAUlC,EAAImC,QAAQ,OAASnC,EAAIgC,OAAOI,QAAQC,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,aAAaC,GAAG,SAASC,GAC32F,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAAC1C,EAAIc,GAAG,qBAAqBd,EAAIe,GAAG2B,EAAKC,MAAMC,KAAK,SAAUC,GAAK,OAAOA,EAAEC,QAASC,YAAY,qBAAqB,CAACR,IAAI,cAAcC,GAAG,SAASC,GAC5J,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACtC,EAAG,SAAS,CAACS,YAAY,OAAOP,MAAM,CAAC,MAAQ,IAAIkB,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAO5B,EAAI+B,SAASW,MAAS,CAAC1C,EAAIc,GAAG,4DAA4D,MAAK,MAAS,IAAI,KACrL,IGMpB,EACA,KACA,KACA,MAIa,UAAAf,E","file":"11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n                    \"+_vm._s(_vm.titleForm)+\"\\n                \")],1)]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pt-5\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Descripcion*\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('descrip'),\"error-messages\":_vm.form.errors.get('descrip')},model:{value:(_vm.form.descrip),callback:function ($$v) {_vm.$set(_vm.form, \"descrip\", $$v)},expression:\"form.descrip\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Abrev*\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('abrev'),\"error-messages\":_vm.form.errors.get('abrev')},model:{value:(_vm.form.abrev),callback:function ($$v) {_vm.$set(_vm.form, \"abrev\", $$v)},expression:\"form.abrev\"}})],1)],1),_vm._v(\" \"),_c('small',[_vm._v(\"*Campos requeridos\")])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.saving},on:{\"click\":_vm.closeForm}},[_vm._v(\"close\")]),_vm._v(\" \"),(!_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('create')}}},[_vm._v(\"Crear\")]):_vm._e(),_vm._v(\" \"),(_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('delete')}}},[_vm._v(\"Eliminar\")]):_vm._e(),_vm._v(\" \"),(_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"success\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('edit')}}},[_vm._v(\"Editar\")]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n            \"+_vm._s(_vm.title)+\"\\n            \"),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"x-small\":\"\",\"fab\":\"\",\"elevation\":\"1\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openForm()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"search\",\"append-icon\":\"mdi-magnify\",\"label\":\"Buscar\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.filter.search),callback:function ($$v) {_vm.$set(_vm.filter, \"search\", $$v)},expression:\"filter.search\"}})],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"loading\":_vm.loading,\"search\":_vm.filter.search},scopedSlots:_vm._u([{key:\"item.roles\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\"\\n                \"+_vm._s(item.roles.map( function (r) { return r.name; }).toString())+\"\\n            \")]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.openForm(item)}}},[_vm._v(\"\\n                    mdi-pencil\\n                \")])]}}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- Form -->\r\n        <v-dialog\r\n            v-model=\"dialog\"\r\n            scrollable\r\n            persistent\r\n            max-width=\"500px\"\r\n        >\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">\r\n                        <v-icon left>{{icon}}</v-icon>\r\n                        {{ titleForm }}\r\n                    </span>\r\n                </v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text class=\"pt-5\">\r\n                    <v-row>\r\n                        <!-- descrip -->\r\n                        <v-col cols=\"12\" sm=\"12\">\r\n                            <v-text-field outlined dense\r\n                                v-model=\"form.descrip\"\r\n                                label=\"Descripcion*\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('descrip')\"\r\n                                :error-messages=\"form.errors.get('descrip')\"\r\n                            ></v-text-field>\r\n                        </v-col>\r\n                        <!-- abrev -->\r\n                        <v-col cols=\"12\" sm=\"12\">\r\n                            <v-text-field outlined dense\r\n                                v-model=\"form.abrev\"\r\n                                label=\"Abrev*\"\r\n                                hide-details=\"auto\"\r\n                                :error=\"form.errors.has('abrev')\"\r\n                                :error-messages=\"form.errors.get('abrev')\"\r\n                            ></v-text-field>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <small>*Campos requeridos</small>\r\n                </v-card-text>\r\n                <v-divider></v-divider>\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn text @click=\"closeForm\" :disabled=\"saving\">close</v-btn>\r\n                    <v-btn text color=\"primary\" @click=\"submit('create')\" v-if=\"!form.id\" :disabled=\"saving\">Crear</v-btn>\r\n                    <v-btn text color=\"error\" @click=\"submit('delete')\" v-if=\"form.id\" :disabled=\"saving\">Eliminar</v-btn>\r\n                    <v-btn text color=\"success\" @click=\"submit('edit')\" v-if=\"form.id\" :disabled=\"saving\">Editar</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n\r\n        <!-- table -->\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-icon left>{{icon}}</v-icon>\r\n                {{ title }}\r\n                <v-btn x-small fab elevation=\"1\"\r\n                    class=\"ml-3\"\r\n                    color=\"primary\" \r\n                    \r\n                    @click=\"openForm()\"\r\n                ><v-icon>mdi-plus</v-icon></v-btn>\r\n\r\n                <v-spacer></v-spacer>\r\n                <v-text-field dense\r\n                    type=\"search\"\r\n                    v-model=\"filter.search\"\r\n                    append-icon=\"mdi-magnify\"\r\n                    label=\"Buscar\"\r\n                    single-line\r\n                    hide-details\r\n                ></v-text-field>\r\n\r\n            </v-card-title>\r\n\r\n            <v-data-table\r\n                :headers=\"headers\"\r\n                :items=\"items\"\r\n                :loading=\"loading\"\r\n                :search=\"filter.search\"\r\n            >\r\n                <template v-slot:[`item.roles`]=\"{ item }\">\r\n                    {{ item.roles.map( r => r.name).toString() }}\r\n                </template>\r\n                <template v-slot:[`item.action`]=\"{ item }\">\r\n                    <v-icon\r\n                        small\r\n                        class=\"mr-2\"\r\n                        @click=\"openForm(item)\"\r\n                    >\r\n                        mdi-pencil\r\n                    </v-icon>\r\n                </template>\r\n            </v-data-table>\r\n        </v-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            icon: 'mdi-tag',\r\n            resource: 'setting/supply-types',\r\n            title: 'Tipos de Insumos',\r\n            titleForm: 'Tipo de Insumo',\r\n            dialog: false,\r\n            loading: false,\r\n            saving: false,\r\n\r\n            filter: {\r\n                search: null,\r\n            },\r\n\r\n            form: new Form({\r\n                id: null,\r\n                descrip: null,\r\n                abrev: null,\r\n            }),\r\n\r\n            headers: [\r\n                { text: 'ID', value: 'id' },\r\n                { text: 'Descripcion', value: 'descrip' },\r\n                { text: 'Abrev', value: 'abrev' },\r\n                { text: 'Accion', value: 'action', sortable: false },\r\n            ],\r\n\r\n            items: [],\r\n\r\n            meta: { printers: [], series: [] },\r\n        }\r\n    },\r\n\r\n    computed: {\r\n\r\n    },\r\n\r\n    mounted() {\r\n        this.getMeta();\r\n        this.getItems();\r\n    },\r\n\r\n    methods: {\r\n        openForm(item = null) {\r\n            this.form.clear()\r\n            this.form.reset()\r\n            if (item !== null) {\r\n                this.form.fill(JSON.parse(JSON.stringify(item)))\r\n            }\r\n            this.dialog = true\r\n        },\r\n\r\n        closeForm() {\r\n            this.dialog = false\r\n        },\r\n\r\n        async getMeta() {\r\n            try {\r\n                const params = { service: `get-meta-crud-boxes` }\r\n                const {data} = await this.form.get(`/common`, {params})\r\n                this.meta = data\r\n            } catch (error) {\r\n                this.$toast(params.service, 'danger')\r\n            }\r\n        },\r\n\r\n        async getItems() {\r\n            try {\r\n                this.loading = true\r\n                const { data }  = await this.form.get(`/${this.resource}`)\r\n                this.items = data\r\n            } catch (error) {\r\n                this.$toast(error.message, 'danger')\r\n            } finally {\r\n                this.loading = false\r\n            }\r\n        },\r\n\r\n        async submit(action = 'create') {\r\n            try {\r\n                this.form.clear()\r\n                this.saving = true\r\n                const itemIndex = this.items.findIndex(x => x.id===this.form.id)\r\n\r\n                if( action==='delete' && !confirm(\"¿Realmente desea eliminar el registro?\") ){\r\n                    this.dialog = false\r\n                    return\r\n                }\r\n\r\n                const { data } = await this.form.req(`/${this.resource}`, action)\r\n\r\n                if (action === 'create') {\r\n                    this.items.unshift(data)\r\n                    this.$toast('registro creado!', 'success')\r\n                }\r\n                if (action === 'edit') {\r\n                    this.items.splice(itemIndex, 1, data)\r\n                    this.$toast('registro actualizado!', 'success')\r\n                }\r\n                if (action === 'delete') {\r\n                    this.items.splice(itemIndex, 1)\r\n                    this.$toast('registro eliminado!', 'success')\r\n                }\r\n                this.dialog = false\r\n            } catch (error) {\r\n                // if (error.response && error.response.status !== 422) {\r\n                    this.$toast(error.message, 'danger')\r\n                // }\r\n            } finally {\r\n                this.saving = false\r\n            }\r\n        },\r\n    },\r\n\r\n}\r\n</script>","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyTypeCrud.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyTypeCrud.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupplyTypeCrud.vue?vue&type=template&id=456272e6&\"\nimport script from \"./SupplyTypeCrud.vue?vue&type=script&lang=js&\"\nexport * from \"./SupplyTypeCrud.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}