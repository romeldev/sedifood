(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{178:function(e,t,r){"use strict";r.r(t);var o=r(1),a=r.n(o);function s(e,t,r,o,a,s,i){try{var n=e[s](i),l=n.value}catch(e){return void r(e)}n.done?t(l):Promise.resolve(l).then(o,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function n(e){s(i,o,a,n,l,"next",e)}function l(e){s(i,o,a,n,l,"throw",e)}n(void 0)}))}}var n={data:function(){return{icon:"mdi-tag",title:"Contenido Nutricional",resource:"catering/report/nutritional-content",filter:new Form({warehouse:null,regime:null,food_type:null,date_from:this.$moment().format("YYYY-MM-DD"),date_to:this.$moment().format("YYYY-MM-DD"),report:null}),meta:{warehouses:[],reports:[],regimes:[],food_types:[]}}},mounted:function(){this.getMeta()},methods:{getMeta:function(){var e=this;return i(a.a.mark((function t(){var r,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={service:"get-meta-report-nutritional-content"},t.next=4,e.filter.get("/common",{params:r});case 4:o=t.sent,s=o.data,e.meta=s,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.$toast(t.t0.message,"danger");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},generateReport:function(){var e=this;return i(a.a.mark((function t(){var r,o,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={warehouse_id:e.filter.warehouse?e.filter.warehouse.id:null,regime_id:e.filter.regime?e.filter.regime.id:null,food_type_id:e.filter.food_type?e.filter.food_type.id:null,date_from:e.filter.date_from,date_to:e.filter.date_to,reportname:e.filter.report?e.filter.report.reportname:null},t.next=4,e.filter.get("/".concat(e.resource),{params:r});case 4:o=t.sent,s=o.data,console.log(s.reportname),i=e.$router.resolve({path:"/api/catering/report/generate/".concat(s.reportname),query:s.params}),window.open(i.href,"_blank"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.$toast(t.t0.message,"danger");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},l=r(2),c=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]),e._v("\n        "+e._s(e.title)+"\n        "),r("v-spacer")],1),e._v(" "),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{dense:"",outlined:"",items:e.meta.warehouses,label:"Almacen*","item-value":"id","item-text":"name","return-object":"","hide-details":"auto",error:e.filter.errors.has("warehouse_id"),"error-messages":e.filter.errors.get("warehouse_id")},model:{value:e.filter.warehouse,callback:function(t){e.$set(e.filter,"warehouse",t)},expression:"filter.warehouse"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{dense:"",outlined:"",items:e.meta.regimes,label:"Regimen*","item-value":"id","item-text":"descrip","return-object":"","hide-details":"auto",error:e.filter.errors.has("regime_id"),"error-messages":e.filter.errors.get("regime_id")},model:{value:e.filter.regime,callback:function(t){e.$set(e.filter,"regime",t)},expression:"filter.regime"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{dense:"",outlined:"",items:e.meta.food_types,label:"Tipo Comida","item-value":"id","item-text":"descrip","return-object":"","hide-details":"auto",error:e.filter.errors.has("food_type_id"),"error-messages":e.filter.errors.get("food_type_id")},model:{value:e.filter.food_type,callback:function(t){e.$set(e.filter,"food_type",t)},expression:"filter.food_type"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-text-field",{attrs:{outlined:"",dense:"",type:"date",label:"Desde*","hide-details":"auto",error:e.filter.errors.has("date_from"),"error-messages":e.filter.errors.get("date_from")},model:{value:e.filter.date_from,callback:function(t){e.$set(e.filter,"date_from",t)},expression:"filter.date_from"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-text-field",{attrs:{outlined:"",dense:"",type:"date",label:"Hasta*","hide-details":"auto",error:e.filter.errors.has("date_to"),"error-messages":e.filter.errors.get("date_to")},model:{value:e.filter.date_to,callback:function(t){e.$set(e.filter,"date_to",t)},expression:"filter.date_to"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{dense:"",outlined:"",items:e.meta.reports,label:"Reporte*","item-value":"reportname","item-text":"label","return-object":"","hide-details":"auto",error:e.filter.errors.has("reportname"),"error-messages":e.filter.errors.get("reportname")},model:{value:e.filter.report,callback:function(t){e.$set(e.filter,"report",t)},expression:"filter.report"}})],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{text:"",color:"success"},on:{click:function(t){return e.generateReport()}}},[e._v("\n            Generar\n        ")])],1)],1)}),[],!1,null,null,null);t.default=c.exports}}]);
//# sourceMappingURL=4.js.map