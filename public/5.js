(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{179:function(e,r,t){"use strict";t.r(r);var a=t(1),n=t.n(a);function i(e,r,t,a,n,i,o){try{var s=e[i](o),p=s.value}catch(e){return void t(e)}s.done?r(p):Promise.resolve(p).then(a,n)}function o(e){return function(){var r=this,t=arguments;return new Promise((function(a,n){var o=e.apply(r,t);function s(e){i(o,a,n,s,p,"next",e)}function p(e){i(o,a,n,s,p,"throw",e)}s(void 0)}))}}var s={data:function(){return{icon:"mdi-tag",title:"Prepararacion - Contenido Nutricional",resource:"catering/report/preparation-content",filter:new Form({warehouse:null,preparationType:null,preparation:null}),meta:{warehouses:[],preparation_types:[],preparations:[]}}},mounted:function(){this.getMeta()},watch:{"filter.preparationType":function(){this.preparation=null}},computed:{warehouses:function(){return this.meta.warehouses},preparationTypes:function(){return this.meta.preparation_types},preparations:function(){var e=this;return this.filter.preparationType?this.meta.preparations.filter((function(r){return r.preparation_type_id===e.filter.preparationType.id})).sort((function(e,r){return e.descrip.localeCompare(r.descrip)})):[]}},methods:{getMeta:function(){var e=this;return o(n.a.mark((function r(){var t,a,i;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={service:"get-meta-stats-preparation-content"},r.next=4,e.filter.get("/common",{params:t});case 4:a=r.sent,i=a.data,e.meta=i,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),e.$toast(params.service,"danger");case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},generateReport:function(){var e=this;return o(n.a.mark((function r(){var t,a,i,o;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={warehouse_id:e.filter.warehouse?e.filter.warehouse.id:null,preparation_type_id:e.filter.preparationType?e.filter.preparationType.id:null,preparation_id:e.filter.preparation?e.filter.preparation.id:null,reportname:"nc_preparation"},r.next=4,e.filter.get("/".concat(e.resource),{params:t});case 4:a=r.sent,i=a.data,o=e.$router.resolve({path:"/api/catering/report/generate/".concat(i.reportname),query:i.params}),window.open(o.href,"_blank"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),e.$toast(params.service,"danger");case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}},p=t(2),c=Object(p.a)(s,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-card",[t("v-card-title",[t("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]),e._v("\n        "+e._s(e.title)+"\n        "),t("v-spacer")],1),e._v(" "),t("v-card-text",[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"4"}},[t("v-select",{attrs:{dense:"",outlined:"",items:e.warehouses,label:"Almacen*","item-value":"id","item-text":"name","hide-details":"auto","return-object":"",clearable:"",error:e.filter.errors.has("warehouse_id"),"error-messages":e.filter.errors.get("warehouse_id")},model:{value:e.filter.warehouse,callback:function(r){e.$set(e.filter,"warehouse",r)},expression:"filter.warehouse"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"4"}},[t("v-select",{attrs:{dense:"",outlined:"",items:e.preparationTypes,label:"Tipo Preparation*","item-value":"id","item-text":"descrip","hide-details":"auto","return-object":"",clearable:"",error:e.filter.errors.has("preparation_type_id"),"error-messages":e.filter.errors.get("preparation_type_id")},model:{value:e.filter.preparationType,callback:function(r){e.$set(e.filter,"preparationType",r)},expression:"filter.preparationType"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"4"}},[t("v-select",{attrs:{dense:"",outlined:"",items:e.preparations,label:"Preparacion*","item-value":"id","item-text":"descrip","hide-details":"auto","return-object":"",clearable:"",error:e.filter.errors.has("preparation_id"),"error-messages":e.filter.errors.get("preparation_id")},model:{value:e.filter.preparation,callback:function(r){e.$set(e.filter,"preparation",r)},expression:"filter.preparation"}})],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{text:"",color:"success"},on:{click:function(r){return e.generateReport()}}},[e._v("\n            Generar\n        ")])],1)],1)}),[],!1,null,null,null);r.default=c.exports}}]);
//# sourceMappingURL=5.js.map