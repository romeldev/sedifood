{"version":3,"sources":["webpack:///./Modules/Catering/Resources/assets/js/views/programming/ProgrammingCrud.vue?b625","webpack:///Modules/Catering/Resources/assets/js/views/programming/ProgrammingCrud.vue","webpack:///./Modules/Catering/Resources/assets/js/views/programming/ProgrammingCrud.vue?664a","webpack:///./Modules/Catering/Resources/assets/js/views/programming/ProgrammingCrud.vue"],"names":["action","component","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","dialog","expression","staticClass","_v","_s","icon","titleForm","form","errors","has","get","$set","meta","professionals","regimes","food_types","ref","preparations","on","addPreparation","searchedPreparation","preparationHeaders","programming_details","scopedSlots","_u","key","fn","item","index","$event","removePreparation","domProps","_e","saving","closeForm","id","submit","title","openForm","staticStyle","warehouses","filter","loading","getItems","headers","items","_f","date"],"mappings":"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","file":"2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"persistent\":\"\",\"max-width\":\"900px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n                    \"+_vm._s(_vm.titleForm)+\"\\n                \")],1)]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pt-5\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"type\":\"date\",\"label\":\"Fecha*\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('date'),\"error-messages\":_vm.form.errors.get('date')},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.professionals,\"label\":\"Profesional*\",\"item-value\":\"id\",\"item-text\":\"fullname\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('professional_id'),\"error-messages\":_vm.form.errors.get('professional_id')},model:{value:(_vm.form.professional_id),callback:function ($$v) {_vm.$set(_vm.form, \"professional_id\", $$v)},expression:\"form.professional_id\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.regimes,\"label\":\"Regimen*\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('regime_id'),\"error-messages\":_vm.form.errors.get('regime_id')},model:{value:(_vm.form.regime_id),callback:function ($$v) {_vm.$set(_vm.form, \"regime_id\", $$v)},expression:\"form.regime_id\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.food_types,\"label\":\"Tipo Comida*\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has('food_type_id'),\"error-messages\":_vm.form.errors.get('food_type_id')},model:{value:(_vm.form.food_type_id),callback:function ($$v) {_vm.$set(_vm.form, \"food_type_id\", $$v)},expression:\"form.food_type_id\"}})],1)],1)],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-toolbar',{staticClass:\"elevation-1\"},[_c('v-autocomplete',{ref:\"autocompletePreparation\",attrs:{\"dense\":\"\",\"single-line\":\"\",\"items\":_vm.meta.preparations,\"label\":\"Agregar preparacion\",\"item-text\":\"descrip\",\"return-object\":\"\",\"hide-details\":\"auto\"},on:{\"change\":_vm.addPreparation},model:{value:(_vm.searchedPreparation),callback:function ($$v) {_vm.searchedPreparation=$$v},expression:\"searchedPreparation\"}})],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"dense\":\"\",\"headers\":_vm.preparationHeaders,\"items\":_vm.form.programming_details,\"disable-sort\":\"\",\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.portions\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"number\",\"min\":\"0\",\"hide-details\":\"auto\",\"error\":_vm.form.errors.has((\"programming_details.\" + index + \".portions\")),\"title\":_vm.form.errors.has((\"programming_details.\" + index + \".portions\"))? _vm.form.errors.get((\"programming_details.\" + index + \".portions\")): null},model:{value:(item.portions),callback:function ($$v) {_vm.$set(item, \"portions\", $$v)},expression:\"item.portions\"}})]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.removePreparation(item, index)}}},[_vm._v(\"\\n                                                mdi-delete\\n                                            \")])]}}],null,true)}),_vm._v(\" \"),(_vm.form.errors.has('programming_details'))?_c('small',{staticClass:\"error--text px-3\",domProps:{\"innerHTML\":_vm._s(_vm.form.errors.get('programming_details'))}}):_vm._e()],1)],1)],1)],1)],1),_vm._v(\" \"),_c('small',[_vm._v(\"*Campos requeridos\")])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.saving},on:{\"click\":_vm.closeForm}},[_vm._v(\"close\")]),_vm._v(\" \"),(!_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('create')}}},[_vm._v(\"Crear\")]):_vm._e(),_vm._v(\" \"),(_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('delete')}}},[_vm._v(\"Eliminar\")]):_vm._e(),_vm._v(\" \"),(_vm.form.id)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"success\",\"disabled\":_vm.saving},on:{\"click\":function($event){return _vm.submit('edit')}}},[_vm._v(\"Editar\")]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n            \"+_vm._s(_vm.title)+\"\\n            \"),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"x-small\":\"\",\"fab\":\"\",\"elevation\":\"1\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openForm()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"dense\":\"\",\"items\":_vm.meta.warehouses,\"single-line\":\"\",\"label\":\"Almacen*\",\"item-value\":\"id\",\"item-text\":\"name\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('warehouse_id'),\"error-messages\":_vm.filter.errors.get('warehouse_id'),\"clearable\":\"\"},model:{value:(_vm.filter.warehouse_id),callback:function ($$v) {_vm.$set(_vm.filter, \"warehouse_id\", $$v)},expression:\"filter.warehouse_id\"}})],1),_vm._v(\" \"),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"date\",\"label\":\"Desde*\",\"single-line\":\"\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('date_from'),\"error-messages\":_vm.filter.errors.get('date_from')},model:{value:(_vm.filter.date_from),callback:function ($$v) {_vm.$set(_vm.filter, \"date_from\", $$v)},expression:\"filter.date_from\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"type\":\"date\",\"label\":\"Hasta*\",\"single-line\":\"\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('date_to'),\"error-messages\":_vm.filter.errors.get('date_to')},model:{value:(_vm.filter.date_to),callback:function ($$v) {_vm.$set(_vm.filter, \"date_to\", $$v)},expression:\"filter.date_to\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-btn',{attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.getItems}},[_vm._v(\"\\n                        Buscar\\n                        \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.items,\"loading\":_vm.loading,\"disable-sort\":\"\",\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\"\\n                \"+_vm._s(_vm._f(\"moment\")(item.date,'L'))+\"\\n            \")]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.openForm(item)}}},[_vm._v(\"\\n                    mdi-pencil\\n                \")])]}}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- Form -->\r\n        <v-dialog\r\n            v-model=\"dialog\"\r\n            scrollable\r\n            persistent\r\n            max-width=\"900px\"\r\n        >\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">\r\n                        <v-icon left>{{icon}}</v-icon>\r\n                        {{ titleForm }}\r\n                    </span>\r\n                </v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text class=\"pt-5\">\r\n                    <v-row>\r\n                        <v-col cols=\"12\" sm=\"6\">\r\n                            <v-row>\r\n                                <!-- date -->\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field outlined dense type=\"date\"\r\n                                        v-model=\"form.date\"\r\n                                        label=\"Fecha*\"\r\n                                        hide-details=\"auto\"\r\n                                        :error=\"form.errors.has('date')\"\r\n                                        :error-messages=\"form.errors.get('date')\"\r\n                                    ></v-text-field>\r\n                                </v-col>\r\n\r\n                                <!-- professional_id -->\r\n                                <v-col cols=\"12\">\r\n                                    <v-select dense outlined\r\n                                        v-model=\"form.professional_id\"\r\n                                        :items=\"meta.professionals\"\r\n                                        label=\"Profesional*\"\r\n                                        item-value=\"id\"\r\n                                        item-text=\"fullname\"\r\n                                        hide-details=\"auto\"\r\n                                        :error=\"form.errors.has('professional_id')\"\r\n                                        :error-messages=\"form.errors.get('professional_id')\"\r\n                                    ></v-select>\r\n                                </v-col>\r\n\r\n                                <!-- regime_id -->\r\n                                <v-col cols=\"12\">\r\n                                    <v-select dense outlined\r\n                                        v-model=\"form.regime_id\"\r\n                                        :items=\"meta.regimes\"\r\n                                        label=\"Regimen*\"\r\n                                        item-value=\"id\"\r\n                                        item-text=\"descrip\"\r\n                                        hide-details=\"auto\"\r\n                                        :error=\"form.errors.has('regime_id')\"\r\n                                        :error-messages=\"form.errors.get('regime_id')\"\r\n                                    ></v-select>\r\n                                </v-col>\r\n\r\n                                <!-- food_type_id -->\r\n                                <v-col cols=\"12\">\r\n                                    <v-select dense outlined\r\n                                        v-model=\"form.food_type_id\"\r\n                                        :items=\"meta.food_types\"\r\n                                        label=\"Tipo Comida*\"\r\n                                        item-value=\"id\"\r\n                                        item-text=\"descrip\"\r\n                                        hide-details=\"auto\"\r\n                                        :error=\"form.errors.has('food_type_id')\"\r\n                                        :error-messages=\"form.errors.get('food_type_id')\"\r\n                                    ></v-select>\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-col>\r\n\r\n                        <!-- detail -->\r\n                        <v-col cols=\"12\" sm=\"6\">\r\n                            <v-row>\r\n                                <v-col cols=\"12\">\r\n                                    <v-card>\r\n                                        <v-toolbar class=\"elevation-1\">\r\n                                            <v-autocomplete dense single-line\r\n                                                ref=\"autocompletePreparation\"\r\n                                                v-model=\"searchedPreparation\"\r\n                                                :items=\"meta.preparations\"\r\n                                                label=\"Agregar preparacion\"\r\n                                                item-text=\"descrip\"\r\n                                                return-object\r\n                                                hide-details=\"auto\"\r\n                                                @change=\"addPreparation\"\r\n                                            ></v-autocomplete>\r\n                                        </v-toolbar>\r\n\r\n                                        <v-data-table dense\r\n                                            :headers=\"preparationHeaders\"\r\n                                            :items=\"form.programming_details\"\r\n                                            disable-sort\r\n                                            disable-pagination\r\n                                            hide-default-footer\r\n                                        >\r\n                                            <!-- portions -->\r\n                                            <template v-slot:[`item.portions`]=\"{ item, index }\">\r\n                                                <v-text-field dense type=\"number\" min=\"0\"\r\n                                                    v-model=\"item.portions\"\r\n                                                    hide-details=\"auto\"\r\n                                                    :error=\"form.errors.has(`programming_details.${index}.portions`)\"\r\n                                                    :title=\"form.errors.has(`programming_details.${index}.portions`)? form.errors.get(`programming_details.${index}.portions`): null\"\r\n                                                ></v-text-field>\r\n                                            </template>\r\n\r\n                                            <template v-slot:[`item.action`]=\"{ item, index }\">\r\n                                                <v-icon\r\n                                                    small\r\n                                                    class=\"mr-2\"\r\n                                                    @click=\"removePreparation(item, index)\"\r\n                                                >\r\n                                                    mdi-delete\r\n                                                </v-icon>\r\n                                            </template>\r\n                                        </v-data-table>\r\n\r\n                                        <small class=\"error--text px-3\"\r\n                                            v-if=\"form.errors.has('programming_details')\"\r\n                                            v-html=\"form.errors.get('programming_details')\"\r\n                                        ></small>\r\n                                    </v-card>\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <small>*Campos requeridos</small>\r\n                </v-card-text>\r\n                <v-divider></v-divider>\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn text @click=\"closeForm\" :disabled=\"saving\">close</v-btn>\r\n                    <v-btn text color=\"primary\" @click=\"submit('create')\" v-if=\"!form.id\" :disabled=\"saving\">Crear</v-btn>\r\n                    <v-btn text color=\"error\" @click=\"submit('delete')\" v-if=\"form.id\" :disabled=\"saving\">Eliminar</v-btn>\r\n                    <v-btn text color=\"success\" @click=\"submit('edit')\" v-if=\"form.id\" :disabled=\"saving\">Editar</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n\r\n        <!-- table -->\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-icon left>{{icon}}</v-icon>\r\n                {{ title }}\r\n                <v-btn x-small fab elevation=\"1\"\r\n                    class=\"ml-3\"\r\n                    color=\"primary\" \r\n                    \r\n                    @click=\"openForm()\"\r\n                ><v-icon>mdi-plus</v-icon></v-btn>\r\n                <v-spacer></v-spacer>\r\n\r\n                <v-select dense style=\"width:200px;\"\r\n                    v-model=\"filter.warehouse_id\"\r\n                    :items=\"meta.warehouses\"\r\n                    single-line\r\n                    label=\"Almacen*\"\r\n                    item-value=\"id\"\r\n                    item-text=\"name\"\r\n                    hide-details=\"auto\"\r\n                    :error=\"filter.errors.has('warehouse_id')\"\r\n                    :error-messages=\"filter.errors.get('warehouse_id')\"\r\n                    clearable\r\n                ></v-select>\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n                <v-row>\r\n                    <v-col cols=\"12\" sm=\"4\">\r\n                        <v-text-field dense type=\"date\"\r\n                            v-model=\"filter.date_from\"\r\n                            label=\"Desde*\"\r\n                            single-line\r\n                            hide-details=\"auto\"\r\n                            :error=\"filter.errors.has('date_from')\"\r\n                            :error-messages=\"filter.errors.get('date_from')\"\r\n                        ></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"4\">\r\n                        <v-text-field dense type=\"date\"\r\n                            v-model=\"filter.date_to\"\r\n                            label=\"Hasta*\"\r\n                            single-line\r\n                            hide-details=\"auto\"\r\n                            :error=\"filter.errors.has('date_to')\"\r\n                            :error-messages=\"filter.errors.get('date_to')\"\r\n                        ></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"4\">\r\n                        <v-btn @click=\"getItems\" :loading=\"loading\" :disabled=\"loading\">\r\n                            Buscar\r\n                            <v-icon right>mdi-magnify</v-icon>\r\n                        </v-btn>\r\n                    </v-col>\r\n                </v-row>\r\n            </v-card-text>\r\n\r\n            <v-data-table dense\r\n                :headers=\"headers\"\r\n                :items=\"items\"\r\n                :loading=\"loading\"\r\n                disable-sort\r\n                disable-pagination\r\n                hide-default-footer\r\n            >\r\n                <template v-slot:[`item.date`]=\"{ item }\">\r\n                    <!-- {{ item.date | moment('timezone', 'America/Lima', 'L')}} -->\r\n                    {{ item.date | moment('L')}}\r\n                </template>\r\n                <template v-slot:[`item.action`]=\"{ item }\">\r\n                    <v-icon\r\n                        small\r\n                        class=\"mr-2\"\r\n                        @click=\"openForm(item)\"\r\n                    >\r\n                        mdi-pencil\r\n                    </v-icon>\r\n                </template>\r\n            </v-data-table>\r\n\r\n\r\n        </v-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            icon: 'mdi-tag',\r\n            resource: 'catering/programmings',\r\n            title: 'Programaciones',\r\n            titleForm: 'Programacion',\r\n            dialog: false,\r\n            loading: false,\r\n            saving: false,\r\n            searchedPreparation: null,\r\n            selectedWarehouse: null,\r\n\r\n            filter: new Form({\r\n                warehouse_id: this.$store.getters.warehouseId,\r\n                date_from: this.$moment().format('YYYY-MM-DD'),\r\n                date_to: this.$moment().format('YYYY-MM-DD'),\r\n            }),\r\n\r\n            form: new Form({\r\n                id: null,\r\n                date: this.$moment().format('YYYY-MM-DD'),\r\n                professional_id: null,\r\n                regime_id: null,\r\n                food_type_id: null,\r\n                warehouse_id: null,\r\n                programming_details: [],\r\n            }),\r\n\r\n            headers: [\r\n                { text: 'ID', value: 'id' },\r\n                { text: 'Fecha', value: 'date' },\r\n                { text: 'Comida', value: 'food_type_descrip' },\r\n                { text: 'Regimen', value: 'regime_descrip' },\r\n                { text: 'Professional', value: 'professional_fullname' },\r\n                { text: 'Accion', value: 'action', sortable: false },\r\n            ],\r\n\r\n            preparationHeaders: [\r\n                { text: 'Descripcion', value: 'preparation_descrip' },\r\n                { text: 'Porciones', value: 'portions', width: \"80\", align: 'right' },\r\n                { text: 'Accion', value: 'action', align: 'center', sortable: false },\r\n            ],\r\n\r\n            items: [],\r\n\r\n            meta: { professionals: [], regimes: [], food_types: [], preparations: [], warehouses: [] },\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.getMeta();\r\n        this.getItems();\r\n    },\r\n\r\n    methods: {\r\n\r\n        addPreparation(){\r\n            const foundPreparation = this.form.programming_details.find(pd => pd.preparation_id === this.searchedPreparation.id)\r\n\r\n            if( typeof foundPreparation !== 'undefined') {\r\n                this.$refs['autocompletePreparation'].reset();\r\n                this.$toast('La preparacion ya ha sido agregado', 'warning', 1000)\r\n                return\r\n            }\r\n\r\n            const newPreparation = JSON.parse(JSON.stringify(this.searchedPreparation))\r\n\r\n            this.form.programming_details.push({\r\n                preparation_id: newPreparation.id,\r\n                preparation_descrip: newPreparation.descrip,\r\n                portions: 1,\r\n            })\r\n            this.$refs['autocompletePreparation'].reset();\r\n        },\r\n\r\n        removePreparation(supply, index) {\r\n            this.form.programming_details.splice(index, 1)\r\n        },\r\n\r\n        openForm(item = null) {\r\n            this.form.clear()\r\n            this.form.reset()\r\n            if (item !== null) {\r\n                this.form.fill(JSON.parse(JSON.stringify(item)))\r\n\r\n                this.form.date = this.$moment(this.form.date).format('YYYY-MM-DD');\r\n            }else {\r\n                if( !this.filter.warehouse_id ){\r\n                    this.$toast('Seleccione un almacen', 'warning')\r\n                    return;\r\n                }\r\n                this.form.warehouse_id = this.filter.warehouse_id;\r\n            }\r\n            this.dialog = true\r\n        },\r\n\r\n        closeForm() {\r\n            this.dialog = false\r\n        },\r\n\r\n        async getMeta() {\r\n            try {\r\n                const params = { service: `get-meta-crud-programmings` }\r\n                const {data} = await this.form.get(`/common`, {params})\r\n                this.meta = data\r\n            } catch (error) {\r\n                this.$toast(error.message, 'danger')\r\n            }\r\n        },\r\n\r\n        async getItems() {\r\n            try {\r\n                this.items = []\r\n                this.loading = true\r\n                const params = {\r\n                    warehouse_id: this.filter.warehouse_id,\r\n                    date_from: this.filter.date_from,\r\n                    date_to: this.filter.date_to,\r\n                }\r\n                const { data }  = await this.filter.get(`/${this.resource}`, {params})\r\n                this.items = data\r\n            } catch (error) {\r\n                this.$toast(error.message, 'danger')\r\n            } finally {\r\n                this.loading = false\r\n            }\r\n        },\r\n\r\n        async submit(action = 'create') {\r\n            try {\r\n                this.form.clear()\r\n                this.saving = true\r\n                const itemIndex = this.items.findIndex(x => x.id===this.form.id)\r\n\r\n                if( action==='delete' && !confirm(\"Â¿Realmente desea eliminar el registro?\") ){\r\n                    this.dialog = false\r\n                    return\r\n                }\r\n\r\n                const { data } = await this.form.req(`/${this.resource}`, action)\r\n\r\n                if (action === 'create') {\r\n                    this.items.unshift(data)\r\n                    this.$toast('registro creado!', 'success')\r\n                }\r\n                if (action === 'edit') {\r\n                    this.items.splice(itemIndex, 1, data)\r\n                    this.$toast('registro actualizado!', 'success')\r\n                }\r\n                if (action === 'delete') {\r\n                    this.items.splice(itemIndex, 1)\r\n                    this.$toast('registro eliminado!', 'success')\r\n                }\r\n                this.dialog = false\r\n            } catch (error) {\r\n                if (error.response && error.response.status === 422) {\r\n                    if( this.form.errors.has('prog_exists') ) this.$toast(this.form.errors.get('prog_exists'), 'danger')\r\n                }else {\r\n                    this.$toast(error.message, 'danger')\r\n                }\r\n            } finally {\r\n                this.saving = false\r\n            }\r\n        },\r\n    },\r\n\r\n}\r\n</script>","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgrammingCrud.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgrammingCrud.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProgrammingCrud.vue?vue&type=template&id=25054977&\"\nimport script from \"./ProgrammingCrud.vue?vue&type=script&lang=js&\"\nexport * from \"./ProgrammingCrud.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}