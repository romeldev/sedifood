{"version":3,"sources":["webpack:///./Modules/Catering/Resources/assets/js/views/report/SupplyOrder.vue?a6c0","webpack:///Modules/Catering/Resources/assets/js/views/report/SupplyOrder.vue","webpack:///./Modules/Catering/Resources/assets/js/views/report/SupplyOrder.vue?04a2","webpack:///./Modules/Catering/Resources/assets/js/views/report/SupplyOrder.vue"],"names":["window","open","routeData","href","component","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","icon","title","meta","warehouses","filter","errors","has","get","model","value","callback","$$v","$set","expression","regimes","food_types","reports","on","$event","generateReport"],"mappings":"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","file":"3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon))]),_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n        \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.warehouses,\"label\":\"Almacen*\",\"item-value\":\"id\",\"item-text\":\"name\",\"return-object\":\"\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('warehouse_id'),\"error-messages\":_vm.filter.errors.get('warehouse_id')},model:{value:(_vm.filter.warehouse),callback:function ($$v) {_vm.$set(_vm.filter, \"warehouse\", $$v)},expression:\"filter.warehouse\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.regimes,\"label\":\"Regimen*\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"return-object\":\"\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('regime_id'),\"error-messages\":_vm.filter.errors.get('regime_id')},model:{value:(_vm.filter.regime),callback:function ($$v) {_vm.$set(_vm.filter, \"regime\", $$v)},expression:\"filter.regime\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.food_types,\"label\":\"Tipo Comida\",\"item-value\":\"id\",\"item-text\":\"descrip\",\"return-object\":\"\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('food_type_id'),\"error-messages\":_vm.filter.errors.get('food_type_id')},model:{value:(_vm.filter.food_type),callback:function ($$v) {_vm.$set(_vm.filter, \"food_type\", $$v)},expression:\"filter.food_type\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"type\":\"date\",\"label\":\"Desde*\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('date_from'),\"error-messages\":_vm.filter.errors.get('date_from')},model:{value:(_vm.filter.date_from),callback:function ($$v) {_vm.$set(_vm.filter, \"date_from\", $$v)},expression:\"filter.date_from\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"type\":\"date\",\"label\":\"Hasta*\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('date_to'),\"error-messages\":_vm.filter.errors.get('date_to')},model:{value:(_vm.filter.date_to),callback:function ($$v) {_vm.$set(_vm.filter, \"date_to\", $$v)},expression:\"filter.date_to\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"items\":_vm.meta.reports,\"label\":\"Reporte*\",\"item-value\":\"reportname\",\"item-text\":\"label\",\"return-object\":\"\",\"hide-details\":\"auto\",\"error\":_vm.filter.errors.has('reportname'),\"error-messages\":_vm.filter.errors.get('reportname')},model:{value:(_vm.filter.report),callback:function ($$v) {_vm.$set(_vm.filter, \"report\", $$v)},expression:\"filter.report\"}})],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.generateReport()}}},[_vm._v(\"\\n            Generar\\n        \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card>\r\n        <v-card-title>\r\n            <v-icon left>{{icon}}</v-icon>\r\n            {{ title }}\r\n            <v-spacer></v-spacer>\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n            <v-row>\r\n                <!-- warehouse_id -->\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.warehouse\"\r\n                        :items=\"meta.warehouses\"\r\n                        label=\"Almacen*\"\r\n                        item-value=\"id\"\r\n                        item-text=\"name\"\r\n                        return-object\r\n                        hide-details=\"auto\"\r\n                        :error=\"filter.errors.has('warehouse_id')\"\r\n                        :error-messages=\"filter.errors.get('warehouse_id')\"\r\n                    ></v-select>\r\n                </v-col>\r\n                <!-- regime_id -->\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.regime\"\r\n                        :items=\"meta.regimes\"\r\n                        label=\"Regimen*\"\r\n                        item-value=\"id\"\r\n                        item-text=\"descrip\"\r\n                        return-object\r\n                        hide-details=\"auto\"\r\n                        :error=\"filter.errors.has('regime_id')\"\r\n                        :error-messages=\"filter.errors.get('regime_id')\"\r\n                    ></v-select>\r\n                </v-col>\r\n                <!-- food_type_id -->\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.food_type\"\r\n                        :items=\"meta.food_types\"\r\n                        label=\"Tipo Comida\"\r\n                        item-value=\"id\"\r\n                        item-text=\"descrip\"\r\n                        return-object\r\n                        hide-details=\"auto\"\r\n                        :error=\"filter.errors.has('food_type_id')\"\r\n                        :error-messages=\"filter.errors.get('food_type_id')\"\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n                <!-- date_from -->\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-text-field outlined dense type=\"date\"\r\n                        v-model=\"filter.date_from\"\r\n                        label=\"Desde*\"\r\n                        hide-details=\"auto\"\r\n                        :error=\"filter.errors.has('date_from')\"\r\n                        :error-messages=\"filter.errors.get('date_from')\"\r\n                    ></v-text-field>\r\n                </v-col>\r\n\r\n                <!-- date_to -->\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-text-field outlined dense type=\"date\"\r\n                        v-model=\"filter.date_to\"\r\n                        label=\"Hasta*\"\r\n                        hide-details=\"auto\"\r\n                        :error=\"filter.errors.has('date_to')\"\r\n                        :error-messages=\"filter.errors.get('date_to')\"\r\n                    ></v-text-field>\r\n                </v-col>\r\n\r\n                <!-- report -->\r\n                <v-col cols=\"12\" sm=\"4\">\r\n                    <v-select dense outlined\r\n                        v-model=\"filter.report\"\r\n                        :items=\"meta.reports\"\r\n                        label=\"Reporte*\"\r\n                        item-value=\"reportname\"\r\n                        item-text=\"label\"\r\n                        return-object\r\n                        hide-details=\"auto\"\r\n                        :error=\"filter.errors.has('reportname')\"\r\n                        :error-messages=\"filter.errors.get('reportname')\"\r\n                    ></v-select>\r\n                </v-col>\r\n            </v-row>\r\n        </v-card-text>\r\n\r\n        <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text color=\"success\" @click=\"generateReport()\">\r\n                Generar\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            icon: 'mdi-tag',\r\n            title: 'Orden de Insumos',\r\n            resource: 'catering/report/supply-order',\r\n\r\n            filter: new Form({\r\n                warehouse: null,\r\n                regime: null,\r\n                food_type: null,\r\n                date_from: this.$moment().format('YYYY-MM-DD'),\r\n                date_to: this.$moment().format('YYYY-MM-DD'),\r\n                report: null,\r\n            }),\r\n\r\n            meta: { warehouses: [], reports: [], regimes: [], food_types: [] }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.getMeta()\r\n    },\r\n\r\n    methods: {\r\n        async getMeta() {\r\n            try {\r\n                const params = { service: `get-meta-report-supply-order` }\r\n                const {data} = await this.filter.get(`/common`, {params})\r\n                this.meta = data\r\n            } catch (error) {\r\n                this.$toast(params.service, 'danger')\r\n            }\r\n        },\r\n\r\n        async generateReport()\r\n        {\r\n             try {\r\n                const params = { \r\n                    warehouse_id: this.filter.warehouse? this.filter.warehouse.id: null,\r\n                    regime_id: this.filter.regime? this.filter.regime.id: null,\r\n                    food_type_id : this.filter.food_type? this.filter.food_type.id: null,\r\n                    date_from: this.filter.date_from,\r\n                    date_to: this.filter.date_to,\r\n                    reportname: this.filter.report? this.filter.report.reportname: null,\r\n                }\r\n\r\n                const {data} = await this.filter.get(`/${this.resource}`, {params})\r\n                let routeData = this.$router.resolve({path: `/api/catering/report/generate/${data.reportname}`, query: data.params });\r\n                window.open(routeData.href, '_blank');\r\n            } catch (error) {\r\n                this.$toast(error.message, 'danger')\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupplyOrder.vue?vue&type=template&id=7c9575a8&\"\nimport script from \"./SupplyOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./SupplyOrder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}